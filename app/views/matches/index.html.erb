<div class="page-container">
  <h1 class="page-title">Matches</h1>

  <!-- Record Match Form -->
  <div class="card">
    <h2 class="card-title">Record New Match</h2>

    <%= form_with url: matches_path, method: :post, local: true, class: "form-grid" do |f| %>
      <div class="form-group">
        <%= label_tag :winner_id, "Winner" %>
        <%= select_tag "match[winner_id]",
              options_from_collection_for_select(Player.all, :id, :name),
              prompt: "Select Winner",
              class: "input-field" %>
      </div>

      <div class="form-group">
        <%= label_tag :loser_id, "Loser" %>
        <%= select_tag "match[loser_id]",
              options_from_collection_for_select(Player.all, :id, :name),
              prompt: "Select Loser",
              class: "input-field" %>
      </div>

      <div class="form-group full-width">
        <%= submit_tag "Record Match", class: "btn-primary" %>
      </div>
    <% end %>
  </div>

  <!-- Match History -->
  <div class="card">
    <h2 class="card-title">Match History</h2>

    <% if @matches.any? %>
      <table class="styled-table">
        <thead>
          <tr>
            <th>Date</th>
            <th>Winner</th>
            <th>Loser</th>
          </tr>
        </thead>

        <tbody>
          <% @matches.each do |match| %>
            <tr>
              <td><%= match.created_at.strftime("%d %b %Y") %></td>
              <td class="text-success"><%= match.winner.name %></td>
              <td class="text-danger"><%= match.loser.name %></td>
            </tr>
          <% end %>
        </tbody>
      </table>
    <% else %>
      <p class="empty-state">No matches recorded yet.</p>
    <% end %>
  </div>
</div>
